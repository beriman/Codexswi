( function (){ function  handleLogout(event){ const  trigger=event.target.closest('[data-action="logout"]'); if (!trigger){ return ;}event.preventDefault(); if (trigger.dataset.loading==='true'){ return ;}trigger.dataset.loading='true';trigger.classList.add('is-loading');fetch('/api/auth/logout',{method:'POST'}).catch(()=>{}).finally(()=>{ const  redirect=trigger.dataset.redirect; if (redirect){window.location.href=redirect;} else {window.location.reload();}});}document.addEventListener('click',handleLogout);})();