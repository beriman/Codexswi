( function (){ function  setupTabs(){ const  tablist=document.querySelector('.nusantarum-tabs'); const  tabPanel=document.getElementById('nusantarum-tab-content'); if (!tablist){ return ;} const  tabs=Array.from(tablist.querySelectorAll('[role="tab"]')); if (!tabs.length){ return ;} function  updateTabState(selectedTab,{shouldFocus=true}={}){ if (!selectedTab){ return ;}tabs.forEach((tab)=>{ const  isActive=tab===selectedTab;tab.setAttribute('aria-selected',isActive?'true':'false');tab.setAttribute('tabindex',isActive?'0':'-1');tab.classList.toggle('is-active',isActive); if (isActive&&shouldFocus){tab.focus();}}); if (tabPanel){tabPanel.setAttribute('aria-busy','true');}}tabs.forEach((tab)=>{ const  isActive=tab.getAttribute('aria-selected')==='true';tab.setAttribute('tabindex',isActive?'0':'-1');tab.classList.toggle('is-active',isActive); if (tab.dataset.nusantarumTabsBound==='true'){ return ;}tab.dataset.nusantarumTabsBound='true';tab.addEventListener('click',(event)=>{updateTabState(event.currentTarget);});tab.addEventListener('keydown',(event)=>{ const  currentIndex=tabs.indexOf(event.currentTarget); if (currentIndex<0){ return ;} let  nextTab=null;switch(event.key){case 'ArrowRight':case 'ArrowDown':nextTab=tabs[(currentIndex+1)%tabs.length];break;case 'ArrowLeft':case 'ArrowUp':nextTab=tabs[(currentIndex-1+tabs.length)%tabs.length];break;case 'Home':nextTab=tabs[0];break;case 'End':nextTab=tabs[tabs.length-1];break;default: return ;} if (nextTab){event.preventDefault();nextTab.focus();nextTab.click();}});});} function  handleBeforeRequest(event){ const  tabPanel=document.getElementById('nusantarum-tab-content'); if (!tabPanel){ return ;} const  requestElement=event.detail?event.detail.elt:event.target; if (!requestElement){ return ;} const  hxTarget=requestElement.getAttribute('hx-target'); if (hxTarget==='#nusantarum-tab-content'){tabPanel.setAttribute('aria-busy','true');}} function  handleAfterSwap(event){ const  tabPanel=document.getElementById('nusantarum-tab-content'); if (!tabPanel){ return ;} const  swapTarget=event.detail?event.detail.target:null; if (event.target===tabPanel||swapTarget===tabPanel){tabPanel.setAttribute('aria-busy','false');setupTabs();}}document.addEventListener('htmx:beforeRequest',handleBeforeRequest);document.addEventListener('htmx:afterSwap',handleAfterSwap); if (document.readyState==='loading'){document.addEventListener('DOMContentLoaded',setupTabs);} else {setupTabs();}})();