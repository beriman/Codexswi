<header id="brand-hero" class="brand-hero glass-card">
  <div class="brand-hero__media" style="background-image: url('{{ brand.hero_image_url }}')" role="img" aria-label="Visual brand {{ brand.name }}"></div>
  <div class="brand-hero__content">
    <div class="brand-hero__branding">
      {% if brand.logo_url %}
      <img class="brand-logo" src="{{ brand.logo_url }}" alt="Logo {{ brand.name }}" loading="lazy" />
      {% else %}
      <div class="brand-logo brand-logo--placeholder" role="img" aria-label="Inisial brand {{ brand.name }}">
        {{ brand.name[:2]|upper }}
      </div>
      {% endif %}
      <form
        class="brand-logo-upload"
        aria-label="Form unggah logo brand"
        method="post"
        action="{{ request.url_for('upload_brand_logo', slug=brand.slug) }}"
        enctype="multipart/form-data"
        hx-post="{{ request.url_for('upload_brand_logo', slug=brand.slug) }}"
        hx-target="#brand-hero"
        hx-swap="outerHTML"
        hx-encoding="multipart/form-data"
      >
        <div class="brand-logo-upload__field">
          <label for="logo-url-input">Gunakan URL logo</label>
          <input
            type="url"
            id="logo-url-input"
            name="logo_url"
            placeholder="https://contoh.com/logo.svg"
            inputmode="url"
          />
        </div>
        <div class="brand-logo-upload__divider" aria-hidden="true">atau</div>
        <div class="brand-logo-upload__field">
          <label class="brand-logo-upload__trigger" for="logo-file-input">
            <span>Pilih file logo</span>
          </label>
          <input
            type="file"
            id="logo-file-input"
            name="logo_file"
            accept=".png,.jpg,.jpeg,.svg,image/png,image/jpeg,image/svg+xml"
          />
        </div>
        <p class="brand-logo-upload__hint">Format didukung: PNG, JPG, atau SVG maksimal 2MB.</p>
        {% if logo_feedback %}
        <p class="brand-logo-upload__status brand-logo-upload__status--{{ logo_feedback.level }}">
          {{ logo_feedback.message }}
        </p>
        {% endif %}
        <button type="submit" class="button button-secondary brand-logo-upload__submit">Perbarui logo</button>
      </form>
    </div>
    <span class="badge brand">Brand Partner</span>
    <div class="brand-title-group">
      <h1 id="brand-title">{{ brand.name }}</h1>
      {% if brand.is_verified %}
      <span class="badge verified" aria-label="Brand terverifikasi">&#10003; Verified Brand</span>
      {% endif %}
    </div>
    <p class="brand-tagline">{{ brand.tagline }}</p>
    <div class="brand-description">
      <h2>Deskripsi Brand</h2>
      <p>{{ brand.description }}</p>
    </div>
    <dl class="brand-meta">
      <div>
        <dt>Berbasis di</dt>
        <dd>{{ brand.origin_city }}</dd>
      </div>
      <div>
        <dt>Owner brand</dt>
        <dd>
          {% if brand.list_owners() %}
          {% for owner in brand.list_owners() %}
          <span class="chip chip-owner">{{ owner.full_name }}</span>
          {% endfor %}
          {% else %}
          <span class="chip chip-muted">Belum ada owner aktif</span>
          {% endif %}
        </dd>
      </div>
      <div>
        <dt>Tahun berdiri</dt>
        <dd>Sejak {{ brand.established_year }}</dd>
      </div>
      {% if brand.aroma_focus %}
      <div>
        <dt>Fokus aroma</dt>
        <dd>
          {% for focus in brand.aroma_focus %}
          <span class="chip">{{ focus }}</span>
          {% endfor %}
        </dd>
      </div>
      {% endif %}
    </dl>
    <div class="brand-cta">
      <a class="button" href="{{ request.url_for('edit_brand', slug=brand.slug) }}">Kelola brand</a>
      <a class="button button-secondary" href="/marketplace">Lihat katalog marketplace</a>
      <a class="button button-ghost" href="/brands">Brand lainnya</a>
    </div>
  </div>
</header>
